**9.0 案例推理 (Case-Based Reasoning, CBR) 简介**

- **与上一课的关系**: CBR建立在“通过记录案例学习”的基础上。
    
- **核心区别**:
    
    - **记录案例**: 假设新问题与旧案例**相同 (identical)**，可以直接复用解决方案。
        
    - **案例推理 (CBR)**: 假设新问题与旧案例**相似 (similar)**，需要对旧解决方案进行调整 (tweak) 或修改 (adapt) 才能使用 。
        
- **基本假设**:
    
    - 1. 世界上的问题存在模式，相似的问题会重复出现 。
        
    - 2. 相似的问题通常有相似的解决方案（虽然存在例外）。
        
- **认知意义**: CBR更好地统一了认知架构的三要素：**学习**（存储案例）、**记忆**（检索案例）和**推理**（调整和评估案例） 。
    

**9.1 CBR的四阶段循环 (The Four-Step CBR Cycle)**

- **1. 检索 (Retrieve)**:
    
    - 从案例库中检索与当前问题最相似的一个或多个案例。
        
    - 可以使用上一课提到的KNN等方法。
        
- **2. 调整 (Adapt)**:
    
    - **核心步骤**。由于新旧问题存在差异，必须修改旧案例的解决方案以适应新问题。
        
    - 调整的目标通常是进行微小的“调整” (tweaking)，而非彻底的革新 。
        
- **3. 评估 (Evaluate)**:
    
    - 评估调整后的候选解决方案是否能有效解决当前问题。
        
    - 评估方法包括
        
        **模拟 (simulation)** 或 **实际执行 (execution)** 。
        
- **4. 存储 (Store)**:
    
    - 如果评估成功，将这个新问题及其成功解决方案封装成一个新案例，存入案例库，实现学习 。
        
- **循环的非线性**: 这个过程并非严格线性的。例如，评估失败后，可能会返回调整阶段再次修改，或者返回检索阶段寻找新案例 。
    

**9.2 案例调整 (Case Adaptation) 的三种主要方法**

- **1. 基于模型的调整 (Model-Based Adaptation)**:
    
    - 使用一个关于世界如何运作的模型（如地图、API文档、物理定律）来指导调整过程 。
        
    - **示例**: 在导航问题中，检索到的路线终点离目标餐厅很近。利用地图这个“世界模型”规划出从旧终点到新目标的最后一段路，完成调整 。
        
- **2. 递归案例推理调整 (Recursive CBR Adaptation)**:
    
    - 将调整过程本身看作一个新的子问题，再次使用CBR来解决。
        
    - **示例**: 要解决从家到餐厅的路线，先检索到一个“从家到办公室”的案例。剩下的“从办公室到餐厅”作为一个新问题，再次进行案例检索，找到另一个案例。最后将两个案例的解拼接起来 。
        
    - **复合类比 (Compound Analogy)**: 一种特殊的递归推理，通过组合多个不同案例的部分解来解决一个复杂问题 。
        
- **3. 基于规则的调整 (Rule-Based Adaptation)**:
    
    - 使用启发式规则 (heuristics)，即“经验法则”，来进行调整 。
        
    - **示例**: 要解决从餐厅回家的路线，检索到“从家到餐厅”的案例。应用一条启发式规则：“将所有转弯方向反转即可原路返回” 。
        

**9.3 案例存储 (Case Storage) 的两种主要方法**

- **目标**: 有效地组织案例库，以便未来能高效地检索。
    
- **1. 通过索引存储 (Storage by Index)**:
    
    - 为每个案例打上“标签” (index)，标签是案例的关键特征 。
        
    - **示例**: 在导航案例中，可以用起点的X/Y坐标和终点的X/Y坐标作为索引 。
        
    - **问题**: 当案例数量和索引维度增加时，线性搜索会变得非常低效 。
        
- **2. 通过区分树存储 (Storage by Discrimination Tree)**:
    
    - 一种树状的知识结构，用于组织案例库，提高检索效率 。
        
    - **结构**:
        
        - **叶节点**: 具体的案例。
            
        - **中间节点**: 关于案例索引特征的问题（如“起点在5N以北吗？”）。
            
    - **检索/存储过程**: 通过回答从根节点开始的一系列问题，在树中向下导航，直到找到匹配的案例或适合插入新案例的位置 。
        
    - **效率**: 搜索效率从线性（表格）提升到对数（树）。
        

**9.4 高级CBR概念**

- **失败案例的学习**: 存储失败的案例也很有用，它们可以帮助智能体在未来**预期 (anticipate)** 和避免类似的失败 。
    
- **效用问题 (Utility Problem)**: 不应存储每一个成功的案例，否则案例库会变得臃肿，降低检索效率。只应存储那些有趣、新颖或能覆盖更广问题的案例 。
    

---

### B. 文本思维导图 (Module 9)

- **Module 9: Case-Based Reasoning (CBR)**
    
    - **核心定义**
        
        - _与“记录案例”的区别_: 处理**相似 (similar)**而非**相同 (identical)**的问题，需要**调整 (adapt)** 。
            
        - _两大假设_: 问题模式重复出现；相似问题有相似解 。
            
    - **CBR四阶段循环**
        
        - **1. 检索 (Retrieve)**: 找最相似的旧案例。
            
        - **2. 调整 (Adapt)**: 修改旧解以适应新问题。
            
        - **3. 评估 (Evaluate)**: 测试新解的有效性。
            
        - **4. 存储 (Store)**: 将成功的新经验存入案例库。
            
    - **核心步骤详解**
        
        - **调整 (Adaptation) 的三种方法**:
            
            - _基于模型_: 利用地图、API等“世界模型”来辅助修改 。
                
            - _递归CBR_: 将调整过程本身作为新问题，再次调用CBR解决 。
                
            - _基于规则_: 应用启发式规则（经验法则）进行修改 。
                
        - **存储 (Storage) 的两种方法**:
            
            - _索引表_: 用关键特征作为标签，但检索效率会随规模下降 。
                
            - _区分树_: 将案例组织成决策树，通过回答问题高效检索，效率为对数级 。
                
    - **高级概念**
        
        - _失败案例_: 存储失败案例有助于预测和避免未来错误 。
            
        - _效用问题_: 需有选择地存储案例，避免案例库臃肿导致检索效率下降 。
            
    - **认知连接**
        
        - _类比推理的核心_: CBR处于类比推理谱系的中间地带，处理“相似但不相同”的问题，这在人类认知中最为常见 。
            
        - _三位一体_: CBR完美统一了学习、记忆和推理三大过程 。