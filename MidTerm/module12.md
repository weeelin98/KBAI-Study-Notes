### A. 结构化知识框架 (Module 12: Logic)

**12.0 形式逻辑 (Formal Logic) 简介**

- **定义**: 逻辑是一种形式化语言，允许我们以非常精确的方式对世界做出断言 。
    
- **在AI中的应用**:
    
    - **知识库 (Knowledge Base)**: 包含智能体关于世界的所有知识，以逻辑句子的形式表示 。
        
    - **推理引擎 (Inference Engine)**: 应用推理规则来处理知识库中的知识 。
        
- **逻辑推理的关键属性**:
    
    - **可靠性 (Soundness)**: 推理规则只会得出确实有效的结论 。
        
    - **完备性 (Completeness)**: 推理规则能够得出所有有效的结论 。
        
- **本课程中的定位**:
    
    - 逻辑是一个重要的主题，也是后续主题（如规划）的基础。
        
    - 但本课程不会过分深入，因为KBAI更关注概念性、经验性和启发式知识，并且构建一个完全正确和完备的知识库本身就是一个巨大挑战 。
        

**12.1 命题逻辑 (Propositional Logic)**

- **基本组成**:
    
    - **谓词 (Predicates)**: 一个将对象参数映射到“真”或“假”的函数。例如 `Feathers(animal)` 。
        
    - **逻辑连接词**:
        
        - **蕴含 (Implication, `->` 或 `=>`)**: "如果...那么..."。例如 `Feathers(animal) -> Bird(animal)` 。
            
        - **合取 (Conjunction, `&` 或 `&&`)**: "与"。例如 `Lays-eggs(animal) & Flies(animal)` 。
            
        - **析取 (Disjunction, `|` 或 `||`)**: "或"。例如 `Lays-eggs(animal) | Flies(animal)` 。
            
        - **否定 (Negation, `~` 或 `!`)**: "非"。例如 `!Bird(animal)` 。
            
- **真值表 (Truth Tables)**:
    
    - 用于确定包含逻辑连接词的复杂句子的真假值 。
        
- **逻辑等价定律**:
    
    - **交换律 (Commutative)**: `A & B` 等价于 `B & A`。
        
    - **分配律 (Distributive)**: `A & (B | C)` 等价于 `(A & B) | (A & C)` 。
        
    - **结合律 (Associative)**: `A | (B | C)` 等价于 `(A | B) | C` 。
        
    - **德摩根定律 (de Morgan's Law)**: `!(A & B)` 等价于 `!A | !B`；`!(A | B)` 等价于 `!A & !B` 。
        
- **蕴含消除 (Implication Elimination)**:
	    **规则**: `A -> B` (如果A，那么B) 等价于 `!A | B` (非A 或 B)。**为什么等价？** 让我们用一个生活中的承诺来理解。假设我对你说：
> **“如果你考试得了100分(A)，那么我就给你买个玩具(B)。”**
这句话就是 `A -> B`。现在我们想一下，在什么情况下我才算**违背了诺言**（即这句话是“假”的）？
只有一种情况：**你确实考了100分(A为真)，但我却没有给你买玩具(B为假)**。在所有其他情况下，我的诺言都不能算被违背：
- 你考了100分(A真)，我给你买了(B真) -> 诺言为真
-没考100分(A假)，我没给你买(B假) -> 诺言为真（因为前提条件没满足）。
- 你没考100分(A假)，但我还是给你买了(B真) -> 诺言也为真（我做了比承诺的更多）。
现在我们来看 `!A | B` 这句话是什么意思。用同一个例子，它就是
> **“你要么没考100分(!A)，要么我给你买了玩具(B)。”**
    - 是一个重要的重写规则，用于将蕴含句式转换为析取句式。
    - 规则: `A -> B` 等价于 `!A | B` 。

**12.2 一阶逻辑/谓词演算 (First-Order Logic / Predicate Calculus)**

- **与命题逻辑的区别**: 引入了变量和量词，表达能力更强 。
    
- **量词**:
    
    - **全称量词 (Universal Quantifier, `∀`)**: 表示“对于所有的”。例如 `∀x, (Lays-eggs(x) & Flies(x)) -> Bird(x)` 。
        
    - **存在量词 (Existential Quantifier, `∃`)**: 表示“存在至少一个”。例如 `∃y, (Lays-eggs(y) & Flies(y)) -> Bird(y)` 。
        

**12.3 推理规则与证明方法**

- **传统推理规则**:
    
    - **肯定前件 (Modus Ponens)**: 如果 `P -> Q` 为真，且 `P` 为真，则可以推断出 `Q` 为真 。
        
    - **否定后件 (Modus Tollens)**: 如果 `P -> Q` 为真，且 `!Q` 为真，则可以推断出 `!P` 为真 。
        
    - **局限性**: 对于大型知识库，仅使用这些规则进行搜索在计算上是低效的 。
        
- **归结定理证明 (Resolution Theorem Proving)**:
    
    - 一种更高效、更机械化的证明方法，适用于计算机。
        
    - **核心思想**: **反证法 (Proof by Refutation)** 。
        
    - **步骤**:
        
        - 1.
            
            **转换为合取范式 (CNF)**: 将知识库中的所有句子以及**待证明命题的否定**转换为合取范式。CNF是由析取子句（文字或文字的析取）构成的合取 。
            
            - 关键一步是使用“蕴含消除”和“德摩根定律”等规则。
                
        - 2.
            
            **归结 (Resolution)**: 重复寻找两个子句，其中一个包含文字 `L`，另一个包含其否定 `!L`。将这两个子句合并，并消除 `L` 和 `!L`，生成一个新的子句 。
            
        - 3.
            
            **得出矛盾**: 如果这个过程最终能得出一个**空子句 (null condition)**，则证明原假设（待证明命题的否定）导致了矛盾 。
            
        - 4.
            
            **完成证明**: 既然假设导致了矛盾，那么该假设必定为假，从而证明原始命题为真 。
            
    - **霍恩子句 (Horn Clauses)**: 一种特殊的、最多只包含一个正文字的析取子句。使用霍恩子句可以使归结过程非常高效，因为它有助于确定“注意力焦点” 。
        

**12.4 认知连接 (The Cognitive Connection)**

- **逻辑与人类思维**:
    
    - 人类思维**有时**表现出逻辑性（如使用肯定前件）。
        
    - 但行为符合逻辑，不代表底层机制就是逻辑推理（可能通过类比等方式实现） 。
        
- **逻辑的局限性**:
    
    - 课程中讨论的逻辑主要是**演绎 (Deductive)** 逻辑（从因到果）。
        
    - 而人类大量的日常推理是
        
        **溯因 (Abductive)** 逻辑（从果到因，如医生诊断）或**归纳 (Inductive)** 逻辑（从样本到总体的泛化） 。
        

---

### B. 文本思维导图 (Module 12)

- **Module 12: Logic**
    
    - **形式逻辑简介**
        
        - _构成_: 知识库 (Knowledge Base) + 推理引擎 (Inference Engine)
            
        - _关键属性_: 可靠性 (Soundness) & 完备性 (Completeness)
            
    - **命题逻辑**
        
        - _基本元素_: 谓词 (Predicates)
            
        - _连接词_: `&` (与), `|` (或), `~` (非), `->` (蕴含)
            
        - _核心工具_: 真值表 (Truth Tables)
            
        - _重要规则_:
            
            - 德摩根定律
                
            - **蕴含消除 (`A -> B` 变为 `!A | B`)**
                
    - **一阶逻辑**
        
        - _扩展_: 引入变量和量词
            
        - _量词_:
            
            - 全称量词 (∀, for all)
                
            - 存在量词 (∃, there exists)
                
    - **证明方法**
        
        - _传统方法 (计算上可能低效)_
            
            - **肯定前件 (Modus Ponens)**: `(P -> Q, P) => Q`
                
            - **否定后件 (Modus Tollens)**: `(P -> Q, !Q) => !P`
                
        - _归结定理证明 (Resolution Theorem Proving)_
            
            - _核心_: **反证法**
                
            - _步骤_:
                
                - 1. 全部转为 **合取范式 (CNF)**
                        
                - 2. 将**待证明命题的否定**加入知识库
                        
                - 3. 反复应用**归结**规则（找到 `L` 和 `!L` 并消去）
                        
                - 4. 若得出**空子句**（矛盾），则证明成功
                        
            - _效率来源_: **霍恩子句 (Horn Clauses)** 有助于聚焦
                
    - **认知连接**
        
        - _局限性_: 形式逻辑多为**演绎**，而人类大量使用**溯因**和**归纳**推理 。